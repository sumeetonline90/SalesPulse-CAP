//@ui5-bundle com/sap/salespulse/salespulseui/Component-preload.js
sap.ui.predefine("com/sap/salespulse/salespulseui/Component", ["sap/ui/core/UIComponent","com/sap/salespulse/salespulseui/model/models"],(e,s)=>{"use strict";return e.extend("com.sap.salespulse.salespulseui.Component",{metadata:{manifest:"json",interfaces:["sap.ui.core.IAsyncContentCreation"]},init(){e.prototype.init.apply(this,arguments);this.setModel(s.createDeviceModel(),"device");this.getRouter().initialize()}})});
sap.ui.predefine("com/sap/salespulse/salespulseui/controller/App.controller", ["sap/ui/core/mvc/Controller"],e=>{"use strict";return e.extend("com.sap.salespulse.salespulseui.controller.App",{onInit(){}})});
sap.ui.predefine("com/sap/salespulse/salespulseui/controller/Main.controller", ["sap/ui/core/mvc/Controller","sap/m/MessageToast","sap/ui/model/json/JSONModel"],(e,s,t)=>{"use strict";return e.extend("com.sap.salespulse.salespulseui.controller.Main",{onInit(){this.getView().setModel(new t,"viewModel")},onFileChange(e){const t=this.byId("fileUploader");const o=t.getDomRef();const l=o.querySelector('input[type="file"]');const r=this.byId("uploadButton");if(l&&l.files&&l.files.length>0){const e=l.files[0];r.setEnabled(true);s.show("File selected: "+e.name)}else{r.setEnabled(false)}},async onUpload(){const e=this.byId("fileUploader");const t=e.getDomRef();const o=t.querySelector('input[type="file"]');if(!o||!o.files||o.files.length===0){s.show("Please select a file first");return}const l=o.files[0];if(!l.name.toLowerCase().endsWith(".xlsx")){s.show("Please select an Excel file (.xlsx)");return}s.show("Uploading file...");try{const t=await this.readFileAsBase64(l);const o=await fetch("/odata/v4/sales-service/",{method:"HEAD",headers:{"x-csrf-token":"Fetch"},credentials:"include"});const r=o.headers.get("x-csrf-token");if(!r){throw new Error("Failed to fetch CSRF token")}const a=await fetch("/odata/v4/sales-service/uploadExcel",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","x-csrf-token":r},credentials:"include",body:JSON.stringify({excel:t})});if(!a.ok){throw new Error(`HTTP ${a.status}: ${a.statusText}`)}const n=await a.json();const i=n.value||n||"File uploaded successfully!";s.show(i);this.onRefresh();e.clear();this.byId("uploadButton").setEnabled(false)}catch(e){console.error("Upload error:",e);s.show("Upload failed: "+e.message)}},readFileAsBase64(e){return new Promise((s,t)=>{const o=new FileReader;o.onload=e=>{try{const t=e.target.result.split(",")[1];s(t)}catch(e){t(new Error("Error processing file: "+e.message))}};o.onerror=()=>{t(new Error("Error reading file"))};o.readAsDataURL(e)})},onUploadComplete(e){const t=e.getParameter("response");if(t){s.show("Upload completed: "+t);this.onRefresh()}},onTypeMissmatch(e){s.show("Please select an Excel file (.xlsx)")},onRefresh(){const e=this.byId("salesTable");const t=e.getBinding("items");if(t){t.refresh();s.show("Data refreshed")}else{const e=this.getView().getModel();if(e){e.refresh(true);s.show("Model refreshed")}}}})});
sap.ui.predefine("com/sap/salespulse/salespulseui/model/models", ["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";return{createDeviceModel:function(){var i=new e(n);i.setDefaultBindingMode("OneWay");return i}}});
sap.ui.require.preload({
	"com/sap/salespulse/salespulseui/i18n/i18n.properties":'# This is the resource bundle for com.sap.salespulse.salespulseui\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=SalesPulse Analytics\n\n#YDES: Application description\nappDescription=An SAP Fiori application.\r\n#XTIT: Main view title\ntitle=SalesPulse Analytics',
	"com/sap/salespulse/salespulseui/manifest.json":'{"_version":"1.76.0","sap.app":{"id":"com.sap.salespulse.salespulseui","type":"application","i18n":{"bundleUrl":"i18n/i18n.properties","supportedLocales":[""]},"applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:basic","version":"1.18.6","toolsId":"69a126b9-c9e5-4b00-9e0d-4cffb7d98405"},"dataSources":{"mainService":{"uri":"/sales-service/","type":"OData","settings":{"annotations":[],"odataVersion":"4.0"}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":true,"dependencies":{"minUI5Version":"1.140.0","libs":{"sap.m":{},"sap.ui.core":{},"sap.ui.unified":{},"sap.ui.layout":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"com.sap.salespulse.salespulseui.i18n.i18n","supportedLocales":[""]}},"":{"dataSource":"mainService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}}},"resources":{"css":[{"uri":"css/style.css"}]},"routing":{"config":{"routerClass":"sap.m.routing.Router","controlAggregation":"pages","controlId":"app","transition":"slide","type":"View","viewType":"XML","path":"com.sap.salespulse.salespulseui.view","async":true,"viewPath":"com.sap.salespulse.salespulseui.view"},"routes":[{"name":"RouteMain","pattern":":?query:","target":["TargetMain"]}],"targets":{"TargetMain":{"id":"Main","name":"Main"}}},"rootView":{"viewName":"com.sap.salespulse.salespulseui.view.App","type":"XML","id":"App","async":true}}}',
	"com/sap/salespulse/salespulseui/view/App.view.xml":'<mvc:View controllerName="com.sap.salespulse.salespulseui.controller.App"\n    displayBlock="true"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"><App id="app"></App></mvc:View>',
	"com/sap/salespulse/salespulseui/view/Main.view.xml":'<mvc:View controllerName="com.sap.salespulse.salespulseui.controller.Main"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"\n    xmlns:unified="sap.ui.unified"\n    xmlns:core="sap.ui.core"\n    xmlns:layout="sap.ui.layout"><Page id="page"><customHeader><Bar><contentLeft><HBox alignItems="Center" class="sapUiSmallMarginEnd"><core:HTML content="&lt;div style=\'display: flex; align-items: center; margin-right: 10px;\'&gt;&lt;div style=\'display: flex; flex-direction: column; margin-right: 8px;\'&gt;&lt;div style=\'width: 20px; height: 5px; background: #4FC3F7; border-radius: 3px; margin-bottom: 2px; transform: rotate(-5deg);\'&gt;&lt;/div&gt;&lt;div style=\'width: 22px; height: 5px; background: #81C784; border-radius: 3px; margin-bottom: 2px; transform: rotate(2deg);\'&gt;&lt;/div&gt;&lt;div style=\'width: 24px; height: 5px; background: #FF7043; border-radius: 3px; transform: rotate(-2deg);\'&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=\'font-family: Arial, sans-serif; font-weight: bold; color: #1976D2; font-size: 16px;\'&gt;&lt;span style=\'color: #0D47A1;\'&gt;I&lt;/span&gt;&lt;span style=\'color: #42A5F5;\'&gt;NN&lt;/span&gt;&lt;span style=\'color: #42A5F5; position: relative;\'&gt;O&lt;span style=\'position: absolute; top: -1px; left: 50%; transform: translateX(-50%); font-size: 6px; color: #666;\'&gt;◐&lt;/span&gt;&lt;/span&gt;&lt;span style=\'color: #0D47A1; transform: scaleY(1.2);\'&gt;✓&lt;/span&gt;&lt;span style=\'color: #42A5F5;\'&gt;AL&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;"/><core:Icon src="sap-icon://line-charts" size="1.5rem" color="#1976D2"/></HBox></contentLeft><contentMiddle><Title text="SalesPulse Analytics Dashboard" level="H1"/></contentMiddle></Bar></customHeader><content><VBox class="sapUiMediumMargin"><layout:Grid defaultSpan="XL6 L6 M12 S12" class="sapUiMediumMarginBottom"><layout:content><Panel class="sapUiResponsiveMargin"><content><VBox alignItems="Center" justifyContent="Center" class="sapUiLargeMargin"><VBox alignItems="Center" class="sapUiMediumMarginBottom"><core:HTML content="&lt;div style=\'display: flex; align-items: center; margin-bottom: 20px;\'&gt;&lt;div style=\'display: flex; flex-direction: column; margin-right: 15px;\'&gt;&lt;div style=\'width: 30px; height: 8px; background: #4FC3F7; border-radius: 4px; margin-bottom: 4px; transform: rotate(-5deg);\'&gt;&lt;/div&gt;&lt;div style=\'width: 35px; height: 8px; background: #81C784; border-radius: 4px; margin-bottom: 4px; transform: rotate(2deg);\'&gt;&lt;/div&gt;&lt;div style=\'width: 40px; height: 8px; background: #FF7043; border-radius: 4px; transform: rotate(-2deg);\'&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=\'font-family: Arial, sans-serif; font-weight: bold; color: #1976D2;\'&gt;&lt;span style=\'color: #0D47A1; font-size: 24px;\'&gt;I&lt;/span&gt;&lt;span style=\'color: #42A5F5; font-size: 20px;\'&gt;NN&lt;/span&gt;&lt;span style=\'color: #42A5F5; font-size: 20px; position: relative;\'&gt;O&lt;span style=\'position: absolute; top: -2px; left: 50%; transform: translateX(-50%); font-size: 8px; color: #666;\'&gt;◐&lt;/span&gt;&lt;/span&gt;&lt;span style=\'color: #0D47A1; font-size: 24px; transform: scaleY(1.2);\'&gt;✓&lt;/span&gt;&lt;span style=\'color: #42A5F5; font-size: 20px;\'&gt;AL&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;"/><Text text="INNOVATION &amp; VALUE" \n                                              textAlign="Center" \n                                              class="sapUiTinyMarginTop"\n                                              style="font-size: 10px; color: #666;"/></VBox><core:HTML content="&lt;svg width=\'120\' height=\'120\' viewBox=\'0 0 24 24\' xmlns=\'http://www.w3.org/2000/svg\'&gt;&lt;path fill=\'#1976D2\' d=\'M5 19h14a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2zm1-8h2v6H6v-6zm3 2h2v4H9v-4zm3-4h2v8h-2V9zm3 2h2v6h-2v-6z\'/&gt;&lt;/svg&gt;"/><Title text="SalesPulse Analytics" level="H2" class="sapUiSmallMarginTop"/><Text text="Powered by INNOVAL - Upload your sales data to get instant insights and analytics" \n                                          textAlign="Center" \n                                          class="sapUiMediumMarginTop"/></VBox></content></Panel><Panel class="sapUiResponsiveMargin"><headerToolbar><Toolbar><core:Icon src="sap-icon://upload" size="1.5rem" color="#007bff"/><Title text="Upload Sales Data" level="H3" class="sapUiSmallMarginBegin"/></Toolbar></headerToolbar><content><VBox class="sapUiMediumMargin"><Label text="Select Excel File (.xlsx)" \n                                           class="sapUiSmallMarginBottom"\n                                           design="Bold"/><unified:FileUploader \n                                        id="fileUploader"\n                                        name="excelFile"\n                                        uploadUrl="/sales-service/uploadExcel"\n                                        tooltip="Upload your Excel file here"\n                                        uploadComplete="onUploadComplete"\n                                        change="onFileChange"\n                                        typeMissmatch="onTypeMissmatch"\n                                        style="Emphasized"\n                                        fileType="xlsx"\n                                        placeholder="Choose Excel file..."\n                                        class="sapUiMediumMarginBottom"/><Button \n                                        id="uploadButton"\n                                        text="Upload Data"\n                                        type="Emphasized"\n                                        icon="sap-icon://upload-to-cloud"\n                                        press="onUpload"\n                                        enabled="false"\n                                        class="sapUiSmallMarginTop"\n                                        width="100%"/></VBox></content></Panel></layout:content></layout:Grid><Panel class="sapUiResponsiveMargin"><headerToolbar><Toolbar><core:Icon src="sap-icon://table-view" size="1.5rem" color="#007bff"/><Title text="Sales Orders Data" level="H3" class="sapUiSmallMarginBegin"/><ToolbarSpacer/><Button \n                                icon="sap-icon://refresh"\n                                press="onRefresh"\n                                tooltip="Refresh Data"\n                                type="Transparent"/></Toolbar></headerToolbar><content><Table \n                            id="salesTable"\n                            items="{/SalesOrders}"\n                            growing="true"\n                            growingThreshold="20"\n                            class="sapUiResponsiveMargin"><columns><Column><Text text="Order ID" design="Bold"/></Column><Column><Text text="Region" design="Bold"/></Column><Column><Text text="Country" design="Bold"/></Column><Column><Text text="Product" design="Bold"/></Column><Column><Text text="Revenue" design="Bold"/></Column><Column><Text text="Order Date" design="Bold"/></Column></columns><items><ColumnListItem><Text text="{OrderID}"/><Text text="{Region}"/><Text text="{Country}"/><Text text="{Product}"/><ObjectNumber \n                                        number="{Revenue}" \n                                        unit="USD"\n                                        state="Success"\n                                        emphasized="true"/><Text text="{path: \'OrderDate\', type: \'sap.ui.model.type.Date\', formatOptions: { style: \'medium\' }}"/></ColumnListItem></items></Table></content></Panel></VBox></content></Page></mvc:View>'
});
//# sourceMappingURL=Component-preload.js.map
